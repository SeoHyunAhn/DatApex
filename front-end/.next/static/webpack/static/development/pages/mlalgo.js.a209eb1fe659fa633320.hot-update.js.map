{"version":3,"file":"static/webpack/static/development/pages/mlalgo.js.a209eb1fe659fa633320.hot-update.js","sources":["webpack:///./pages/mlalgo.js"],"sourcesContent":["import React from \"react\";\nimport axios from \"axios\";\nimport Modal from \"../components/Modal\";\nimport {\n  Button,\n  ModalHeader,\n  ModalBody,\n  ModalFooter,\n  Form,\n  FormGroup,\n  Input,\n  Label\n} from \"reactstrap\";\n\nconst posts = [\n  { path: \"nba\", title: \"Naive Bayes algorithm\" },\n  { path: \"lra\", title: \"Logistic Regression algorithm\" },\n  { path: \"svm\", title: \"Support Vector Machine algorithm\" },\n  { path: \"bag\", title: \"Bagging algorithm\" },\n  { path: \"clus\", title: \"Clustering algorithm\" }\n];\nimport Layout from \"../components/layout\";\n\nexport default class extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.fileInput = React.createRef();\n    this.state = {imgSrc: \"\"}\n  }\n\n  // hexToBase64(str) {\n  //   return \n  // }\n  refreshList = () => {\n    axios\n      .get(\"http://localhost:8000/api/todos/\")\n      .then(res => this.setState({ todoList: res.data }))\n      .catch(err => console.log(err));\n  };\n  handleSubmit(event) {\n    // this.toggle();\n    event.preventDefault();\n    console.log(\"handling submit\");\n    console.log(this.fileInput.current.files);\n    var formData = new FormData();\n    // var imagefile = this.fileInput.current.files;\n    console.log(this.fileInput.current.files[0]);\n    formData.append(\"file\", this.fileInput.current.files[0]);\n\n    var display = document.querySelector(\".image-display\");\n    var output = document.getElementById(\"image-output\");\n    // var imageOupput;\n    axios\n      .post(\"http://localhost:8000/upload/csv/\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\"\n        }\n      })\n      // .then(res => this.setState({imgSrc: this.state.imgSrc+res.data}))\n\n      .then(function(e) {\n        console.log(e);\n      //   // var data = [];\n      //   // data.push(e.data)\n      //   // display.innerHTML = e.data.forms[0].name;\n      //   // output.src = \"{require('\"+e.data+\"')}\";\n\n      //   // console.log(e.data);\n      //   // var img = new Image();\n      //   // img.onload = function() {\n      //   //   myCanvasContext.drawImage(img, 0, 0);\n      //   // };\n      //   // img.src = e.data;\n      var t = btoa(String.fromCharCode.apply(null, e.data.replace(/\\r|\\n/g, \"\").replace(/([\\da-fA-F]{2}) ?/g, \"0x$1 \").replace(/ +$/, \"\").split(\" \")));\n\n        imageOupput = \"data:image/png;base64, \" + t;\n      //   // console.log(img);\n\n      //   // var node = document.createElement(\"img\");\n      //   // // var t = btoa(String.fromCharCode.apply(null, e.data.replace(/\\r|\\n/g, \"\").replace(/([\\da-fA-F]{2}) ?/g, \"0x$1 \").replace(/ +$/, \"\").split(\" \")));\n      //   // // node.src = 'data:image/jpeg;base64,' + t;\n      //   // node.src = Buffer.from(e.data, 'binary').toString('base64');\n      //   // document.getElementById(\"image\").appendChild(node);\n        self.setState({imgSrc: e.data});\n      })\n      .then(e =>\n\n        console.log(this.state.imgSrc)\n      )\n      .catch(err => console.log(err));\n  }\n  render() {\n    return (\n      <Layout>\n        <main className=\"content\">\n          <h1 className=\"text-white text-uppercase text-center my-4\">\n            Todo app\n          </h1>\n          <Form enctype=\"multipart/form-data\" onSubmit={this.handleSubmit}>\n            <FormGroup>\n              <div class=\"form-group\">\n                <label\n                  for=\"name\"\n                  // class=\"col-md-3 col-sm-3 col-xs-12 control-label\"\n                >\n                  File:{\" \"}\n                </label>\n                <div class=\"col-md-8\">\n                  <input\n                    type=\"file\"\n                    name=\"csv_file\"\n                    id=\"csv_file\"\n                    required=\"True\"\n                    class=\"form-control\"\n                    ref={this.fileInput}\n                  />\n                </div>\n              </div>\n              <input type=\"submit\" value=\"Submit\" />\n            </FormGroup>\n          </Form>\n          <div id=\"image-display\">\n            <img id= \"image-output\"\n             src={this.state.imgSrc}></img>\n          </div>\n        </main>\n      </Layout>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAWA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;;;;;;AAEA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAWA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAdA;AACA;AACA;AAAA;AAAA;AAJA;AAKA;AAGA;AACA;AACA;AACA;;;AAKA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AADA;AADA;AADA;AASA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAIA;AAAA;AACA;;;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;AA1GA;AACA;;;;;A","sourceRoot":""}