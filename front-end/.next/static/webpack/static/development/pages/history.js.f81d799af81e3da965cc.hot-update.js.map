{"version":3,"file":"static/webpack/static/development/pages/history.js.f81d799af81e3da965cc.hot-update.js","sources":["webpack:///./pages/history.js"],"sourcesContent":["import React, { Component } from \"react\";\nimport Link from \"next/link\";\nimport firebase from \"../common/firebase\";\nimport { create } from \"domain\";\n\nclass History extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      history: [],\n      history3: []\n    };\n  }\n\n  async componentDidMount() {\n    var storage = firebase.storage().ref();\n    const user = firebase.auth().currentUser.uid;\n    var t = await storage\n      .child(user)\n      .list()\n      .then(function(urls) {\n        return urls.items.map(url => url.location.path);\n      });\n    console.log(t);\n\n    var temp = [];\n    for (var i = 0; i < t.length; i++) {\n      var s = await storage\n        .child(t[i])\n        .getDownloadURL()\n        .then(e => {\n          return e;\n        });\n      temp.push(s);\n    }\n    console.log(temp);\n\n    t = t.map(a => {\n      var as = a.split(\"_\");\n      var aa = as[0].split(\"/\");\n      return aa[1];\n    });\n    this.setState({ history: t, history3: temp });\n  }\n\n  render() {\n    var items = [];\n    console.log(this.state.history);\n    for (var i = 0; i < this.state.history.length; i++) {\n      items.push(\n        <tr>\n          <th scope=\"row\">{this.state.history[i]}</th>\n          <td>ML</td>\n          <td>\n            <a href={this.state.history3[i]} downloadURL>\n              <button className=\"btn btn-primary\">Download</button>\n            </a>\n          </td>\n        </tr>\n      );\n    }\n\n    return (\n      <>\n        <h1>History</h1>\n        <hr></hr>\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n            <div className=\"col-12\">\n              <table className=\"table\">\n                <thead className=\"thead-light\">\n                  <tr>\n                    <th scope=\"col\">Date</th>\n                    <th scope=\"col\">Type</th>\n                    <th scope=\"col\">File Result</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {items}\n                  {/* <tr>\n                    <th scope=\"row\">1/1/2019</th>\n                    <td>ML</td>\n                    <td>\n                      <button className=\"btn btn-primary\">Download</button>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th scope=\"row\">1/1/2019</th>\n                    <td>PRE</td>\n                    <td>\n                      <button className=\"btn btn-primary\">Download</button>\n                    </td>\n                  </tr>\n                  <tr>\n                    <th scope=\"row\">1/1/2019</th>\n                    <td>ML</td>\n                    <td>\n                      <button className=\"btn btn-primary\">Download</button>\n                    </td>\n                  </tr> */}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default History;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;;;;;;;;;;AAEA;AACA;;AACA;AAIA;AAAA;AAAA;AACA;AACA;;AANA;AAMA;AAEA;AACA;AACA;;AADA;;;;;;AACA;AAIA;AACA;AACA;;AANA;AAMA;AACA;;AARA;;;;;AASA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AA8BA;;;;AAtGA;AACA;AAwGA;;;;A","sourceRoot":""}